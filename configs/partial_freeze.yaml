# configs/partial_freeze.yaml

# use_partial_freeze defined in hparams.yaml

# freeze_level controls which blocks remain trainable.
# 0 -> only the classifier/head
# 1 -> classifier/head + last block (e.g. layer4 for ResNet)
# 2 -> classifier/head + two last blocks (e.g. layer3 and layer4 for ResNet)
# Actual patterns depend on the architecture; see modules/partial_freeze.py


teacher1_freeze_level: 2   # ResNet-152: layer3+4 train

# BN / LN 업데이트 허용 (adapter 가 새 BN 을 학습해야 안정)
teacher1_freeze_bn: false

teacher2_freeze_level: 2   # EfficientNet-B2: 마지막 3 block train
teacher2_freeze_bn: true

student_freeze_level: 1    # student: layer4 + adapter train
student_freeze_bn: false
student_use_adapter: true
num_workers: 2
