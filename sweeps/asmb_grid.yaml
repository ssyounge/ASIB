method: bayes
metric:
  name: stage4_student_acc
  goal: maximize

# v0.16+ 규격
controller:
  type: local        # 또는 'thread'
  max_parallel: 4    # (= 예전 concurrency)

parameters:
  student_lr:                          # base-10 로그 분포 예시
    distribution: log_uniform_values
    min: 0.0006
    max: 0.0014

  ib_beta:
    distribution: uniform              # 값 폭이 좁으면 linear 로도 충분
    min: 0.002
    max: 0.005

  # 그 외 고정 값 / grid 값
  use_partial_freeze:
    values: [true]
  student_freeze_level:
    values: [1]        # stem+layer1 freeze
  hybrid_beta:
    values: [0.25]
  kd_alpha:
    values: [0.75]
  ce_alpha:
    values: [0.25]
  tau_start:
    values: [8]
  tau_end:
    values: [3]
  tau_decay_epochs:
    values: [6]
  student_epochs_per_stage:
    values: [15]

# 실행 커맨드 (W&B 새 규격: list 형)
command:
  - ${env}
  - python
  - main.py
  - "--config=configs/default.yaml"
  - "--hparams=configs/hparams.yaml"
  - ${args}
